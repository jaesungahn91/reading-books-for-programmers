## 07-1 안정성을 위한 기술
- 안정성을 높이기 위한 방법으로 물리적 장비나 프로그램 등을 여러 개 두는 기술인 이중화와 다중화, 그리고 트래픽을 고르게 분산하는 기술인 로드 밸런싱이 있다.
### 가용성
- 안정성은 '특정 기능을 언제든 균일한 성능으로 수행할 수 있는 특성'
- 안정성의 정도를 나타내는 용어로 가용성, 고가용성
	- 가용성 : 컴퓨터 시스템이 특정 기능을 실제로 수행할 수 있는 시간의 비율. 즉, 전체 사용 시간 중에서 정상적인 사용 시간을 의미
	- 가용성 = 업타임 / 업타임 + 다운타임
	- 가용성이 높은 성질을 고가용성이라 한다.
- 일반적으로 '안정적'이라고 평가받는 시스템은 99.999% 이상을 목표로한다.
	- 9가 다섯개 라는 의미에서 파이브 나인스라고 한다.
- 핵심은 문제가 발생하지 않도록 하는 것이 아니라, 문제가 발생하더라도 계속 기능할 수 있도록 설계하는 것.
- 문제가 발생하더라도 기능할 수 있는 능력을 결함 감내라고 한다.
### 이중화
- 이중화란 말 그대로 '무엇인가를 이중으로 두는 기술', 쉽게 말해 '예비(백업)를 마련하는 방법'
- '문제가 발생할 경우 시스템 전체가 중단될 수 있는 대상'을 단일 장애점이라 한다.
- 가용성을 높이기 위해서는 SPOF를 이중화하는 것이 좋다.
- 이중화 구성에는 크게 두 가지 방식이 있다.
	- 액티브/스탠바이 : 한 시스템은 가동하고, 다른 시스템은 백업 용도로 대기 상태의 구성 방식
		- 성능상의 큰 변화는 없다.
	- 액티브/액티브 : 두 시스템 모두를 가동 상태로 두는 구성 방식
		- 한 시스템에 문제 발생시 다른 시스템에 부하가 급증할 수 있는 문제가 있다.
- 무언가를 여러 개 두는 기술을 다중화라고 한다.
- 이중화/다중화의 사례로 티밍과 본딩이 있다. 이 두 기술은 여러 개의 네트워크 인터페이스를 이중화/다중화하여 마치 더 뛰어나고 안정적인 성능을 보유한 하나의 인터페이스처럼 보이게 하는 기술
### 로드 밸런싱
- 트래픽의 사전적 정의는 '주어진 시점에 네트워크를 경유한 데이터의 양', 일반적으로 '주어진 시점에 특정 노드를 경유한 패킷의 양'이라고 할 수 있다.
- 트래픽의 고른 분배를 위해 사용되는 기술이 로드 밸런싱
- 로드 밸런싱은 로드 밸런서에 의해 수행, 'L4 스위치', 'L7 스위치'라 불리는 네트워크 장비로도 수행할 수 있지만, 로드 밸런싱 기능을 제공하는 소프트웨어를 설치하면 일반 호스트로 로드 밸런서로 사용할 수 있다. (ex. Nginx)
- 부하가 균등하게 분산되도록 부하 대상을 선택하는 방법을 '로드 밸런싱 알고리즘'이라 부른다.
- 단순히 서버를 돌아가며 부하를 전달하는 라운드 로빈 알고리즘이 있고, 연결이 적은 서버부터 우선적으로 부하를 전달하는 최소 연결 알고리즘도 있다. 때로는 단순히 무작위로 고르기도 하고, 해시라는 자료 구조를 이용하기도 하며, 응답 시간이 가장 짧은 서버를 선택하기도 한다.
- 가중치가 부여된 알고리즘을 각각 가중치 라운드 로빈 알고리즘과 ㅇ가중치 최소 연결 알고리즘이라 한다.
### 포워드 프록시와 리버스 프록시
- 자원을 생성하고 클라이언트에게 권한 있는 응답을 보낼 수 있는 HTTP 서버를 오리진 서버라고 한다.
- 프록시는 클라이언트가 선택한 메시지 전달 대리자이다.
- 게이트웨이는 아웃바운드 연결에 대해 오리진 서버 역할을 하지만, 수신된 요청을 변환하여 다른 인바운드 서버로 전달하는 중개자 역할을 한다.

## 07-2 안전성을 위한 기술
- 암호화는 원문 데이터를 알아볼 수 없는 형태로 변경하는 것을 의미. 반대로 복호화란 암호화된 데이터를 원문 데이터로 되돌리는 과정
### 암호와 인증서
**대칭 키 암호화 방식과 공개 키 암호화 방식**
- 키와 원문 데이터에 수학적 연산 과정을 거치면 암호문이 생성된다. 수학적 연산 과정을 '암호화 알고리즘'이라 한다.
- 대칭 키 암호화와 비대칭 키 암호화(공개 키 암호화) 두 가지 방식이 있다.
- 대칭 키 암호화
	- 암호화와 복호화에 동일한 키를 사용
	- 상대방에게 안전하게 키를 전달하기 어렵다.
- 공개 키 암호화 = 비대칭 키 암호화
	- 암호화를 위한 키와 복호화를 위한 키가 다르다.
	- 한 쌍의 키를 각각 공개 키와 개인 키라 부른다.
	- 공개 키만으로는 개인 키를 유추할 수 없고, 반대로 개인 키만으로 공개 키를 유추할 수도 없다.
- 대칭 키 암호화는 키를 안전하게 전송하기 어렵지만, 적은 부하 덕분에 암호화 및 복호화를 빠르게 수행할 수 있다. 반면 공개 키 암호화는 암호화 및 복호화에 시간과 부하가 상대적으로 많이 들지만, ㅇ키를 안전하게 공유할 수 있다.
- 대칭 키 암호화 방식과 공개 키 암호화 방식을 함께 사용하는 경우가 많다. 이러한 방식으로 활용되는 대칭 키를 세션 키라고 한다.

**인증서와 디지털 서명**
- 인증서는 무엇인가를 증명하기 위한 문서를 의미
- 네트워크에서 사용되는 '인증서'라는 용어는 일반적으로 공개 키 인증서를 일컫는다.
- 공개키 인증서란 공개 키와 공개 키의 유효성을 입증하기 위한 전자 문서.
- 인증서는 인증 기관이라는 제3의 기관에서 발급
- CA가 발급한 인증서에는 '이 공개 키 인증서는 진짜야. 내가 보증할게'라는 내용을 담은 서명 값이 있따.
- 개인 키로 암호화된 메시지를 공개 키로 복호화함으로써 신원을 증명하는 이러한 절차를 디지털 서명이라 부른다.

### HTTPS: SSL과 TLS
- SSL과 TLS는 인증과 암호화를 수행하는 프로토콜이며, TLS는 SSL을 계씅한 프로토콜이다.
- SSL/TLS를 사용하는 대표적인 프로토콜은 HTTP. HTTPS는 HTTP 메시지의 안전한 송수신을 위해 개발된 프로토콜
- 송수신 단계
	- TCP 쓰리 웨이 핸드셰이크
	- TLS 핸드셰이크
	- 암호화된 메시지 송수신
- TLS 핸드셰이크의 핵심은 암호화 통신을 위한 키를 교환한다는 점이고, 인증서 송수산과 검증이 이루어 진다는 점이다.
- '사용 가능한 암호화 방식과 해시 함수'를 담은 정보를 암호 스위트라고 한다.

## 07-3 무선 네트워크
- 무선 네트워크에도 전파라는 연결 매체, 802.11 이라는 표준, 그에 기반한 Wi-Fi라는 기술, AP라는 장비가 있다.
### 전파와 주파수
- 무선 통신의 기반이 되는 전파는 약 3kHz부터 3THz 사이의 진동수를 갖는 전자기파이다. 쉽게 말하면 '눈에 보이지 않는 전자기파의 일종'정도로 정의
- 다른 전파 신호를 구분할 수 있는 방법으로 주파수 대역을 미리 정한다.
- 전파의 주파수가 우연히 할당된 주파수 대역과 겹친다면 통신 중 잡음이 발생할 수 있다.
### 와이파이와 802.11
- 오늘날 LAN 환경에서의 무선 통신은 IEEE 802.11로 표준화
- IEEE 802.11 표준은 대부분 2.4GHz, 5GHz 대역을 사용한다.
- 통신 규격인 IEEE 802.11 버전에 따라 사용되는 주파수뿐만 아니라 전송 속도, 대역폭, 전송 가능한 거리, 변조 방식 등 많은 것이 달라진다.
- 오늘날 '와이파이'라는 용어는 'IEEE 802.11 표준을 따르는 무선 LAN 기술'을 가리키는 말로도 많이 사용되지만, 본래는 와이파이 얼라이언스라는 비영리단체의 트레이드 마크 이름이다.
- 와이파이는 일종의 인증 마크 역할을 한다.
- 같은 주파수 대역을 사용하는 네트워크라 할지라도 별개의 무선 네트워크들이 존재할 수 있다.
- 2.4GHz, 5GHz 주파수 대역은 채널이라 불리는 하위 주파수 대역으로 또 한 번 세분화되고, 해당 채널 대역에서 통신이 이루어진다.
- 채널에는 번호가 할당
- 채널은 일반적으로 자동으로 설정되지만, 수동으로 설정할 수도 있다.
### AP와 서비스 셋
- 무선 네트워크를 생성하기 위해서는 '무선 액세스 포인트(AP)'라는 네트워크 장비가 필요하다.
- AP는 무선 통신 기기들을 연결하여 무선 네트워크를 구성하는 장치
- AP를 경유하여 통신이 이루어지는 무선 네트워크 방식을 인프라스트럭처 모드라 한다.
- 무선 네트워크를 이루는 AP와 여러 장치들의 집합을 서비스 셋이라 부른다.
- 서비스 셋을 식별하기 위해 서비스 셋 식별자, 줄여서 SSID를 사용. SSID는 무선 네트워크를 구분짓는 수단이자 무선 네트워크를 지칭하는 고유한 이름(와이파이 이름)
- AP는 불특정 다수 모두에게 자신을 알리는 브로드캐스트 메시지를 주기적으로 전송. 이 브로드캐스트 메시지를 비컨 프레임이라 한다.