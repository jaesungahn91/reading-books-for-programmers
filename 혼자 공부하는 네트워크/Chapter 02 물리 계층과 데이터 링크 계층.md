## 02-1 이더넷
- 물리 계층과 데이터 링크 계층은 이더넷이라는 공통된 기술을 사용
- 이더넷은 현대 LAN, 특히 유선 LAN 환경에서 가장 대중적으로 사용되는 기술
- 케이블과 같은 통신 매체가 필요
- 이더넷은 다양한 통신 매체의 규격들과 송수신되는 프레임의 형태, 프레임을 주고받는 방법 등이 정의된 네트워크 기술
### 이더넷 표준
- 오늘날의 유선 LAN 환경은 대부분 이더넷을 기반으로 구성
- 이더넷 관련 기술을 IEEE 802.3이라는 이름으로 표준화
### 통신 매체 표기 형태
- 이더넷 표준 규격에 따라 구현된 통신 매체를 지칭할 때는 `전송 속도BASE-추가 특성`과 같은 형태로 표기
- BASE는 베이스밴드의 약자로, 변조 타입을 의미
	- 변조 타입이란 비트 신호로 변환된 데이터를 통신 매체로 전송하는 방법을 의미
- 추가 특성에는 통신 매체의 특성을 명시
	- 전송 가능한 최대 거리, 물리 계층 인코딩, 레인 수 등
### 통신 매체 종류
- 가장 대중적인 통신 매체의 종류
```
C - 동축 케이블
T - 트위스티드 페어 케이블
S - 단파장 광섬유 케이블
L - 장파장 광섬유 케이블
```
### 이더넷 프레임
- 이더넷 프레임 헤더는 기본적으로 프리앰블, 수신지 MAC 주소, 송신지 MAC 주소, 타입/길이로 구성, 페이로드는 데이터, 트레일러는 FCS로 구성

**프리앰블**
- 이더넷 프레임의 시작을 알리는 8바이트(64비트) 크기의 정보

**수신지 MAC 주소와 송신지 MAC 주소**
- MAC 주소는 네트워크 인터페이스마다 부여되는 6바이트(48비트) 길이의 주소

**타입/길이**
- 필드에 명시된 크기가 1500(1600진수 05DC) 이하일 경우 크기(길이)를 나타내고, 1536(16진수 0600) 이상일 경우 타입을 나타낸다.
- 타입이란 이더넷 프레임이 '어떤 정보를 캡슐화 했는지'를 나타내는 정보. 이더타입이라고도 부른다.
- 타입과 프로토콜
```
0800 - IPv4
86DD - IPv6
0806 - ARP
```

**데이터**
- 최대 크기는 1500 바이트
- 반드시 일정 크기(46바이트 이상)여야 한다. 이하일 경우 크기를 맞추기 위해 패딩이라는 정보가 내부에 채워진다.

**FCS**
- 수신한 이더넷 프레임에 오류가 있는지 확인하기 위한 필드
- 오류 검출에 사용
- CRC, 즉 순환 중복 검사라고 불리는 오류 검출용 값이 적재

### 좀 더 알아보기
- 이더넷 외에 대표적으로 토큰 링이라는 다른 LAN 기술도 있다.

## 02-2 NIC과 케이블
- NIC는 호스트와 통신 매체를 연결하고, MAC 주소가 부여되는 네트워크 장비
- 케이블은 NIC에 연결되는 물리 계층의 유선 통신 매체
	- 대표적으로 사용하는 케이블 두 종류
		- 트위스티드 페어 케이블
		- 광섬유 케이블
### NIC
- 통신 매체를 통해 전달되는 신호와 컴퓨터가 이해할 수 있는 정보간의 변환을 담당
- 호스트는 NIC이 있어야 네트워크게 참여할 수 있다.
- NIC는 통신 매체에 흐르는 신호를 호스트가 이해하는 프레임으로 변환하거나 반대로 호스트가 이해하는 프레임을 통신 매체에 흐르는 신호로 변환
- 네트워크 인터페이스 역할을 수행
### 트위스티드 페어 케이블
- 구리 선으로 전기 신호를 주고받는 통신 매체
- 케이블 본체와 케이블의 연결부인 커넥터로 이루어져 있다.
- 주로 활용 되는 커넥터를 RJ-45라고 부른다.
- 본체 내부는 케이블의 이름처럼 구리 선이 두 가닥씩 꼬아져있다.
- 본체가 구리 선으로 이루어진 상태에서 전기 신호를 주고받다 보면 전자적 간섭이 생긴다.
	- 전기 신호를 왜곡시킬 수 있는 간섭을 노이즈라고 한다.
- 구리 선 주변을 감싸 노이즈를 감소시키는 방식을 차폐, 차폐에 사용된 그물 모양의 철사와 포일을 각각 브레이드 실드 혹은 포일 실드라고 한다.
	- STP - 브레이드 실드로 구리 선을 감싸 노이즈를 감소시킨 트위스티드 페어 케이블
	- FTP - 포일 실드로 노이즈를 감소시킨 트위스티드 페어 케이블
	- UTP - 아무것도 감싸지 않은 구리 선만 있는 케이블
- 케이블 명칭 표기
	- `XX`/`Y`TP
	- U = 실드 없음, S = 브레이드 실드, F = 포일 실드
	- XX에는 케이블 외부를 감싸는 실드의 종류가 명시
	- Y에는 꼬인 구리 선 쌍을 감싸는 실드의 종류가 명시
- 트위스티드 페어 케이블은 카테고리에 따라서도 분류할 수 있다.
	- 높은 카테고리에 속한 케이블일수록 높은 성능을 보인다.
	- Cat이라는 표기로 줄여서 표현(Cat3, Cat5)
### 광섬유 케이블
- 빛(광신호)을 이용해 정보를 주고받는 케이블
- 속도도 빠르고, 먼 거리까지 전송이 가능, 노이즈의 간섭도 적다.
- 대륙 간 네트워크 연결에도 사용
- 케이블 본체와 커넥터로 이루어져있다.
- 커넥터 종류가 좀 더 다양
- 본체 내부는 마치 머리카락과 같은 형태의 광섬유로 구성, 광섬유는 빛을 운반하는 매체
- 광섬유 중심에는 실질적으로 빛이 흐르는 부분인 코어가 있다.
- 코어를 둘러싸고 빛이 코어 안에서만 흐르도록 빛을 가두는 역할을하는 클래딩이 있다.
- 코어의 지름에 따라 싱글 모드 광섬유 케이블, 멀티 모드 광섬유 케이블로 나뉜다.
	- 싱글 모드 광섬유 케이블은 코어 지름이 8~10um(1mm = 1,000um)
	- 싱글 모드 케이블은 신호 선실이 적기에 장거리 전송에 적합, 비용이 높다는 단점
	- 멀티 모드 케이블은 코어의 지름이 50~62.6um 정도로 싱글 모드보다 크다.
		- 빛이 여러 경로로 이동할 수 있다.
		- 장거리 전송에는 부적합하며, 비교적 근거리를 연결하는 데 주로 사용

## 02-3 허브
- 대표적인 네트워크 장비로 물리 계층에는 허브, 데이터 링크 계층에는 스위치가 있다.
### 주소 개념이 없는 물리계층
- 송수신지를 특정할 수 있는 주소는 데이터 링크 계층부터 존재하는 개념
### 허브
- 허브는 여러 대의 호스트를 연결하는 장치
- 리피터 허브 또는 이더넷 허브라고 부른다.
- 커넥터를 연결할 수 있는 연결 지점을 포트라 한다.

**허브의 특징**
- 오늘날 인터넷 환경에서 잘 사용되지 않는다.
- 전달받은 신호를 다른 모든 포트로 그대로 다시 내보낸다.
- 반이중 모드로 통신한다.
	- 송수신을 번갈아 가면서 하는 통신 방식
	- 동시에 송수신이 불가능
	- 전이중모드는 동시에 양방향으로 할 수 있는 통신 방식

**콜리전 도메인**
- 허브는 반이중 통신을 지원하기 때문에 충돌(콜리전)이 발생한다.
- 충돌이 발생할 수 있는 영역을 콜리전 도메인이라고 한다.
- 충돌을 해결하기 위해 CSMA/CD 프로토콜을 사용하거나 스위치 장비를 사용해야 한다.
- 콜리전 도메인의 범위가 클수록 충돌이 발생할 가능성이 높아진다.

### CSMA/CD
- 반이중 이더넷 네트워크에서 충돌을 방지하는 대표적인 프로토콜
- Carrier Sence Multiple Access with Collision Detection의 약자
- CS는 캐리어 감지를 의미
	- 메시지를 보내기 전에 현재 네트워크상에서 전송 중인 것이 있는지를 확인
- MA는 다중 접근을 의미
	- 복수의 호스트가 네트워크에 접근하려는 상황을 다중 접근이라고 한다.
- CD는 충돌 검출을 의미
	- 충돌이 발생했을때 잼 신호를 통해 다른 호스트에게 알림

## 02-4 스위치
### 스위치
- 데이터 링크 계층의 네트워크 장비
- 2계층에서 사용한다 하여 L2 스위치라고도 부른다.
- MAC주소를 학습해 특정 MAC 주소를 가진 호스트에만 프레임을 전달할 수 있고, 전이중 모드의 통신을 지원

**스위치의 특징**
- 특정 포트와 해당 포트에 연결된 호스트의 MAC 주소와의 관계를 기억하는 MAC 주소 학습 기능이 있다.
- 스위치의 포트와 연결된 호스트의 MAC 주소 연관 관계를 나타내는 정보를 MAC 주소 테이블이라고 부른다.
### MAC 주소 학습
- 플러딩 : 송신지 포트를 제외한 모든 포트로 프레임을 전송
- 포워딩 : 전달받은 프레임을 어디로 내보내고 어디로 내보내지 않을지 결정하는 기능
- 필터링 : 프레임이 전송될 포트에 실제로 프레임을 내보내는 것
- 에이징 : 등록된 특정 포트에서 일정 시간 동안 프레임을 전송받지 못할 경우 삭제하는 기능
### VLAN
- Virtual LAN의 줄임말로, 한 대의 스위치로 가상의 LAN을 만드는 방법
- VLAN을 구성하면 한 대의 물리적 스위치로라 해도 여러 대의 스위치가 있는 것처럼 논리적인 단위로 LAN을 구획할 수 있다.

**포트 기반 VLAN**
- 가장 단순하지만 대중적인 방식
- 스위치의 포트가 VLAN을 결정하는 방식
- 포트 수가 부족해질 수도 있다.
	- 이를 해결하기 위해 두 대 이상의 VLAN 스위치를 효율적으로 연결하여 확장하는 방법인 VLAN 트렁킹을 사용

**MAC 기반 VLAN**
- 설정된 MAC 주소에 따라 VLA이 결정되는 MAC 기반 VLAN
- 송수신하는 프레임 속 MAC주소가 호스트가 속할 VLAN을 결정하는 방식