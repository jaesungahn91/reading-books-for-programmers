## 12-1 동기화란
### 동기화의 의미
- 동시다발적으로 실행되는 많은 프로세스는 서로 데이터를 주고받으며 협력하며 실행 될 수 있다.
- 협력적으로 실행되는 프로세스들은 올바른 실행을 위해 동기화가 필수
- 프로세스 동기화란 프로세스들 사이의 수행 시기를 맞추는 것을 의미
	- 실행 순서 제어: 프로세스를 올바른 순서대로 실행하기
	- 상호 배제: 동시에 접근해서는 안 되는 자원에 하나의 프로세스만 접근하게 하기
- 동기화에는 실행 순서 제어를 위한 동기화가 있고, 상호 배제를 위한 동기화가 있다.

**실행 순서 제어를 위한 동기화**
- 동시에 실행되는 프로세스를 올바른 순서대로 실행하는 것

**상호 배제를 위한 동기화**
- 상호배제는 공유가 불가능한 자원의 동시 사용을 피하기 위해 사용하는 알고리즘
- 동시에 접근해서는 안 되는 자원에 동시에 접근하지 못하게 하는 것이 상호 배제를 위한 동기화

### 생산자와 소비자 문제
- 동시에 접근해서는 안 되는 자원에 동시에 접근했기 때문에 발생

### 공유 자원과 임계 구역
- 공동의 자원 = 공유 자원
- 임계 구역 : 동시에 실행하면 문제가 발생하는 자원에 접근하는 코드 영역
- 레이스 컨디션 : 여러 프로세스가 동시 다발적으로 임계 구역의 코드를 실행하여 문제가 발생하는 경우
	- 데이터의 일관성이 깨지는 문제가 발생
- 상호배제를 위한 동기화는 두 개 이상의 프로세스가 임계 구역에 동시에 접근하지 못하도록 관리하는 것을 의미
- 상호배제를 위한 동기화의 세 가지 원칙
	- 상호 배제 : 한 프로세스가 임계 구역에 진입했다면 다른 프로세스는 임계 구역에 들어 올 수 없다.
	- 진행 : 임계 구역에 어떤 프로세스도 진입하지 않았다면 임계 구역에 진입하고자 하는 프로세스는 들어갈 수 있어야 한다.
	- 유한 대기 : 한 프로세스가 임계 구역에 진입하고 싶다면 그 프로세느느 언젠가는 임계 구역에 들어올 수 있어야 한다.

## 12-2 동기화 기법
### 뮤텍스 락
- 동시에 접근해서는 안 되는 자원에 동시에 접근하지 않도록 만드는 도구, 상호배제를 위한 도기화 도구이다.
- 뮤텍스 락의 매우 단순한 형태는 하나의 전역 변수와 두 개의 함수로 구현
	- 자물쇠 역할 : 프로세스들이 공유하는 전역 변수 락
	- 임계 구역을 잠그는 역할 : acquire 함수
		- 프로세스가 임계 구역에 진입하기 전에 호출하는 함수
	- 임계 구역의 잠금을 해제하는 역할 : release 함수
		- 임계 구역에서의 작업이 끝나고 호출하는 함수
- 바쁜 대기 : 프로세스가 반복적으로 락을 확인하는 대기 방식

### 세마포
- 뮤텍스 락과 비슷하지만, 조금 더 일반화된 방식의 동기화 도구
- 공유 자원이 여러 개 있는 상황에서도 적용이 가능한 동기화 도구
- 하나의 전역 변수와 두 개의 함수로 구현
	- 임계 구역에 진입할 수 있는 프로세스의 개수를 나타내는 전역변수 S
	- 임계 구역에 들어가도 좋은지, 기다려야 할지를 알려주는 wait 함수
	- 임계 구역 앞에서 기다리는 프로세스에 '이제 가도 좋다'고 신호를 주는 signal 함수

### 모니터
- 세마포는 매번 임계구역에 앞뒤로 일일이 wait와 signal 함수를 명시해야하는 번거로움이 있다.
- 최근에 등장한 동기화 도구, 세마포에 비하면 사용자가 사용하기에 훨씬 편리한 도구
- 공유 자원을 다루는 인터페이스에 접근하기 위한 큐를 만들고, 모니터 안에 항상 하나의 프로세스만 들어오도록하여 상호 배제를 위한 동기화를 제공
- 실행 순서 제어를 위한 동기화도 제공
	- 조건 변수를 사용
		- 프로세스나 스레드의 실행 순서를 제어하기 위해 사용하는 특별한 변수