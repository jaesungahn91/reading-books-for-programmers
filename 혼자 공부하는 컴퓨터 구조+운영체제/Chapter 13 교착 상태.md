## 13-1 교착상태란
- 두 개 이상의 프로세스가 각자 가지고 있는 자원을 무작정 기다린다면 그 어떤 프로세스도 더 이상 진행할 수 없는 교착 상태가 된다.

### 식사하는 철학자 문제
- 일어나지 않을 사건을 기다리며 진행이 멈춰 버리는 현상을 교착 상태라고 한다.
- 교착 상태를 해결하기 위해서는 첫째, 교착 상태가 발생했을 때의 상황을 정확히 표현해 보고, 둘째, 교착 상태가 일어나는 근본적인 이유에 대해 알아야 한다.

### 자원 할당 그래프
- 어떤 프로세스가 어떤 자원을 사용하고 있고, 또 어떤 프로세스가 어떤 자원을 기다리고 있는 지를 표현하는 간단한 그래프
- 교착 상태가 발생한 상황은 자원 할당 그래프가 원의 형태를 띈다.

### 교착 상태 발생 조건
- 교착 상태가 발생할 조건에는 네 가지가 있다. 하나라도 만족하지 안흔다면 교착 상태가 발생하지 않지만, 아래 조건이 모두 만족될 때 교착 상태가 발생할 가능성이 생긴다.

**상호 배제**
- 한 프로세스가 사용하는 자원을 다른 프로세스가 사용할 수 없을 때의 상황

**점유와 대기**
- 자원을 할당 받은 상태에서 다른 자원을 할당받기를 기다리는 상태

**비선점**
- 비선점 자원, 자원을 잉용하는 프로세스의 작업이 끝나야만 이용 가능한 자원

**원형 대기**
- 자원 할당 그래프가 원의 형태
- 프로세스들이 원의 형태로 자원을 대기하는 것

## 13-2 교착 상태 해결 방법
### 교착 상태 예빵
- 예방 방법은 교착 상태 발생 필요 조건 네 가지 중 하나를 충족하지 못하게 하는 방법과 같다.

**상호 배제**
- 모든 자원을 공유 가능하게 만든다.
- 이론적으로는 가능하지만 모든 자원의 상호 배제를 없애는 것은 무리가 있다.

**점유와 대기**
- 점유와 대기를 없애면 운영체제는 특정 프로세스에 자원을 모두 할당하거나, 아예 할당하지 않는다.
- 자원의 활용률이 낮아질 우려가 있다.
- 많은 자원을 사용하는 프로세스가 불리
	- 기아 현상을 야기할 우려

**비선점**
- 비선점 조건을 없애면 자원을 이용 중인 프로세스로부터 해당 자원을 빼앗을 수 있다.
- 일부 자원에 대해서는 효과적
- 다소 범용성이 떨어지는 방안

**원형 대기**
- 모든 자원에 번호를 붙이고, 오름차순으로 자원을 할당
- 비교적 현실적이고 실용적인 방식
- 모든 컴퓨터 시스템 내에 존재하는 수많은 자원에 번호를 붙이는 일은 어렵고 자원의 활용률이 떨어질 수 있다.

### 교착 상태 회피
- 교착 상태가 발생하지 않을 정도로만 조심 조심 자원을 할당하는 방식
- 이는 교착 상태를 한정된 자원의 무분별한 할당으로 인해 발생하는 문제로 간주
- 안전 상태
	- 교착 상태가 발생하지 않고 모든 프로세스가 정상적으로 자원을 할당받고 종류될 수 있는 상태
	- 안전 순서열 대로 프로세스들에 자원을 배분하여 교착 상태가 발생하지 않는 상태
- 불안전 상태
	- 교착 상태가 발생할 수도 있는 상황
	- 안전 순서열이 없는 상황
- 안전 순서열은 교착 상태 없이 안전하게 프로세스들에 자원을 할당할 수 있는 순서
- 운영체제가 교착 상태를 회피하기 위해서는 시스템 상태가 안전 상태에서 안전 상태로 움직이는 경우에만 자원을 할당하면 된다.

### 교착 상태 검출 후 회복
- 교착 상태 발생을 인정하고 사후에 조치하는 방식

**선점을 통한 회복**
- 교착 상태가 해결될 때까지 한 프로세스씩 자원을 몰아주는 방식

**프로세스 강제 종료를 통한 회복**
- 프로세스 강제 종류를 통한 회복은 가장 단순하면서 확실한 방식
- 작업 내역을 잃을 수 있는 가능성이 있고 교착 상태 확인을 위한 오버헤드를 야기