## 08-1 장치 컨트롤러와 장치 드라이버
### 장치 컨트롤러
- 입출력 장치가 CPU, 메모리보다 다루기 더 까다로운 이유
	- 첫째, 입출력장치에는 종류가 너무나도 많다.
	- 둘째, 일반적으로 CPU와 메모리의 데이터 전송률은 높지만 입출력장치의 데이터 전송률은 낮다.
		- 전송률(여기서의) : 데이터를 얼마나 빨리 교환할 수 있는지를 나타내는 지표
- 따라서 입출력장치는 컴퓨터에 직접 연결되지 않고 장치 컨트롤러라는 하드웨어를 통해 연결
	- 입출력 제어기, 입출력 모듈 등으로 다양하게 불린다.
- 장치 컨트롤러의 대표적인 역할
	- CPU와 입출력장치 간의 통신 중개
	- 오류 검출
	- 데이터 버퍼링
		- 버퍼링이란 전송률이 높은 장치와 낮은 장치 사이에 주고받는 데이터를 버퍼라는 임시 공간에 저장하여 전송률을 비슷하게 맞추는 방법
		- 전송률 차이를 데이터 버퍼링으로 완화
- 장치 컨트롤러의 간략화된 내부 구조
	- 데이터 레지스터
		- CPU와 입출력사이에 주고받을 데이터가 담기는 레지스터
		- 버퍼 역할
		- 데이터가 많은 입출력장치에서는 레지스터 대신 RAM을 사용하기도함
	- 상태 레지스터
		- 입출력장치의 상태 정보가 저장
	- 제어 레지스터
		- 입출력장치가 수행할 내용에 대한 제어 정보와 명령을 저장

### 장치 드라이버
- 장치 컨트롤러의 동작을 감지하고 제어함으로써 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램

## 08-2 다양한 입출력 방법
> CPU와 정보를 주고받는 세 가지 방법에는 프로그램 입출력, 인터럽트 기반 입출력, DMA 입출력이 있다.

### 프로그램 입출력
- 기본적으로 프로그램 속 명령어로 입출력장치를 제어하는 방법

**메모리 맵 입출력**
- 메모리에 접근하기 위한 주소 공간과 입출력장치에 접근하기 위한 주소 공간을 하나의 주소 공간으로 간주하는 방법

**고립형 입출력**
- 메모리를 위한 주소 공간과 입출력 장치를 위한 주소 공간을 분리하는 방법

### 인터럽트 기반 입출력
- 하드웨어 인터럽트는 장치 컨트롤러에 의해 발생
- 인터럽트를 기반으로 하는 입출력
- CPU는 인터럽트 간에 우선순위를 고려하여 우선순위가 높은 인터럽트 순으로 여러 인터럽트를 처리
- NMI
	- 인터럽트 비트를 비활성화해도 무시할 수 없는 인터럽트(PIC에 의해 처리되지 않음)
- 프로그래머블 인터럽트 컨트롤러(PIC)
	- 많은 컴퓨터에서 다중 인터럽트를 처리하기 위한 방법으로 사용하는 하드웨어
	- 여러 장치 컨트롤러에 연결되어 장치 컨트롤러에서 보낸 하드웨어 인터럽트 요청들의 우선순위를 판별한 뒤 CPU에 지금 처리해야 할 하드웨어 인터럽트가 무엇인지 알려주는 장치

### DMA 입출력
- 입출력장치와 메모리가 CPU를 거치지 않고도 상호작용할 수 있는 입출력 방식
- 직접 메모리에 접근할 수 있는 입출력 장치
- 시스템 버스에 연결된 DMA 컨트롤러라는 하드웨어가 필요
- DMA 컨트롤러는 시스템 버스로 메모리에 직접 접근이 가능하지만, 시스템 버스는 동시 사용이 불가능
	- 따라서 입출력 버스라는 별도의 버스에 연결하여 해결
- 입출력 버스에는 PCI버스 PCI Express(PCIe) 버스 등 여러 종류가 있다.

--- 
- PCI가 입출력 버스 종류 중 하나이고 왜 필요한지에 대해 알게 되어 신기하다. 