## 4.1 직렬/병렬
### 4.1.1 직렬/병렬이란?
- 일직선으로 나열돼 있는 것을 직렬, 두 줄 이상으로 나열돼 있는 것을 병렬이라 한다.
- 직렬 처리로 속도를 올리는 데는 한계가 있다
- 병렬화를 통해 속도는 빨라지지 않지만, 단위 시간당 처리량을 늘릴 수 있다.
	- 병렬 처리에서는 합류점, 직렬화 구간, 분기점이 병목 지점이 되기 쉽다.
	- 병렬화할 때는 일을 분담해서 처리를 한 후 다시 집약할 때 오버헤드가 걸림

### 4.1.2 어디에 사용되나?
**웹 서버와 AP 서버에서의 병렬화**
- 웹 서버에서는 복수의 프로세스가 분담해서 병렬 처리
- AP 서버에서는 JVM 프로세스가 하나, 복수의 스레드가 병렬 처리
- 프로세스나 스레드 수를 조절할 때는 CPU 코어 수도 함께 고려

**DB 서버에서의 병렬화**
- 오라클 DB에서는 클라이언트 요청을 접수하는 서버 프로세스가 클라이언트 접속 수만큼 생성
- 데이터 파일 생성 시 병목 현상의 경우 메모리에 캐시된 갱신 완료 데이터를 HDD에 기록하는 DBWR 프로세스 수를 늘려서 병렬화

### 4.1.3 정리
- 직렬
	- 장점
		- 구조가 간단해서 설계나 구현 난이도가 낮다
	- 단점
		- 복수의 리소스를 유용하게 이용할 수 없다
- 병렬
	- 장점
		- 복수의 리소스를 유용하게 이욜할 수 있다
		- 동일 시간당 처리할 수 있는 양이 증가
		- 일부가 고장 나더라도 처리를 계속 진행
	- 단점
		- 처리 분기나 합류를 위한 오버헤드 발생
		- 배타적 제어 등을 고려해야함
		- 구조가 복잡해서 설꼐나 구현 난이도가 높음

## 4.2 동기/비동기
### 4.2.1 동기/비동기란?
- 일을 부탁하고 그 일이 끝나기까지 잠자코 기다리는 것이 동기
- 일을 부탁하고 다른 일을 하는 것이 비동기
- 동기/비동기 특징
	- 동기는 의뢰한 것이 끝났는지 여부를 확실하게 확인 가능
	- 비동기는 병렬로 다른일을 할 수 있지만 끝났는지 여부를 확인하고 싶으면 별도의 방법을 이용

### 4.2.2 어디에 사용되나?
- DBMS에서 사용되는 비동기 I/O
	- I/O 병렬화에는 프로세스나 스레드를 복수 사용하는 방식과 비동기 I/O 방식이 있다.
	- 비동기 I/O 방식은 OS 커널에 쓰기 의뢰를 한 후 완료를 기다리지 않고 다음 쓰기 의뢰를 한다.

## 4.3. 큐
### 4.3.1 큐란?
- '큐(Queue)'는 우리말로 '대기 행렬'이라 표현
- 큐의 동작 원리를 FIFO라고 한다.
- 큐는 순서대로 처리한다.

### 4.3.2 어디에 사용되나?
- CPU 처리를 기다리고 있는 프로세스나 스레드 행렬
	- CPU를 기다리고 있는 프로세스 행렬을 '런큐'라고 한다.
	- OS 커널에는 프로세스 스케줄러라는 기능이 있어서 런큐 등을 관리한다.
- 하드 디스크 등의 저장소 읽기 처리를 기다리고 있는 I/O 요구 행렬
- 네트워크 접속 성립을 기다리고 있는 접속 요구 행렬

**데이터베이스의 디스크 I/O**
- 기본적인 개념은 CPU와 같지만 사용하는 대상이 CPU가 아닌 HDD
- HDD는 데이터가 기록돼 있는 특정 위치에 액세스해야 하기 때문에 CPU처럼 비어 있다는 이유로 다른 것을 사용할 수 없다.

### 4.3.3 정리
- 순서대로 처리를 하고 싶은 경우나 행렬이 생기는 경우는 큐를 사용하는 것이 좋다.

## 4.4 배타적 제어
### 4.1.1 배타적 제어란?
- 배타적 제어는 문자 그대로 '다른 것을 배제하는 제어'다.
- 여러 사람이 공유하기 때문에 배타적 제어가 필요
- 병렬 처리에서는 배타적 제어가 필요
	- 복수의 처리가 공유 자원에 동시에 액세스하면 불일치가 발생할 수 있기 때문에 필요

### 4.4.2 어디에 사용되나?
**DBMS에 사용되는 배타적 제어**
- 공유 데이터를 동시에 변경하지 못하도록 배타적 제어를 함
- 방식
	- 매우 짧은 시간 동안만 락을 유지하는 래치 = 스핀락
	- 비교적 장시간 락을 유지하도록 큐를 이용한 슬립락

**OS 커널에 사용되는 배타적 제어**
- 리눅스 커널은 빅 커널락이라 불리는 하나의 스핀락으로 유지
- 빅 커널락이 이용되는 부분에서는 처리가 직렬화 돼서 동시에 하나의 CPU만 커널 코드 실행 가능

## 4.5 상태 저장/상태 비저장
### 4.5.1 상태 저장/상태 비저장이란?
- 상태 정보를 가지는 '상태 저장(Stateful)'과 가지지 않는 '상태 비저장(Stateless)'
- 상태 저장은 세분화된 제어가 가능한 반면에 구조가 복잡
- 상태 비저장은 고기능은 아니지만 간단
- 상태 저장은 부여된 정보에 따라 '상태'가 전이

### 4.5.3 어디에 사용되나?
- 컴퓨터 내부 구조
	- 프로세스 상태 전이
- 네트워크 통신 구조
	- HTTP는 기본적으로 상태 비저장 프로토콜
		- 상태를 저장해야 하는 경우 세션이라는 개념을 사용

## 4.6 가변 길이/고정 길이
### 4.6.1 가변 길이/고정 길이란?
- 미리 크기가 정해져 있는 경우를 고정길이, 정해져 있지 않는 경우를 가변 길이라고 한다.
- 가변 길이는 공간을 유용하게 활용할 수 있지만 성능면에서 불안정
- 고정 길이는 쓸데없는 공간이 생기지만 성능 면에서는 안정적

### 4.6.2 어디에 사용되나?
- 파일시스템에 사용
- 네트워크를 경유해서 데이터를 전송할 때에도 사용

## 4.7 데이터 구조(배열과 연결 리스트)
### 4.7.1 데이터 구조(배열과 연결 리스트)란?
- 배열은 데이터를 빈틈없이 순서대로 나열한 데이터 구조
- 연결 리스트는 데이터를 선으로 연결한 데이터 구조
- 탐색이 빠른 것은 배열, 느린 것은 연결 리스트
- 데이터 추가, 삭제가 빠른 것은 연결 리스트, 느린 것은 배열

## 4.8 탐색 알고리즘(해시/트리 등)
### 4.8.1 탐색 알고리즘(해시/ 트리 등)이란?
- 데이터 정리방법을 '데이터 구조', 찾는 방법을 '탐색 알고리즘'이라고 한다.
- 필요할 때에 필요한 데이터를 빠르게 찾기 위해서 데이터를 정렬할 필요가 있다.
- 데이터를 찾을 떄의 데이터 구조와 데이터 저장 방식 특성에 따라 적합한 데이터 정리 방법이 달라진다
- 처리 순서에 맞추어 데이터 구조를 정리할 필요가 있기 때문에 '알고리즘과 데이터 구조'는 자주 함께 다루어진다.

### 4.8.2 어디에 사용되나?
- DBMS의 인덱스
- 인덱스가 없는 경우 테이블의 모든 블록을 처음부터 순서대로 읽어나가는 풀 스캔이 발생
- 인덱스에 일반적으로 자주 사용되는 것은 B트리 인덱스이다.
- 데이터 추가, 갱신, 삭제 시에 인덱스 데이터도 갱신해야하는 것을 고려
- B트리 인덱스
	- 루트 블록, 브랜치 블록, 리프 블록
- 해시 테이블
	- 키와 값 조합으로 표를 구성한 데이터 구성
	- 키는 해시 함수를 통해 해시 값으로 변환
	- 검색이 빠르다는 장점
### 4.8.3 정리
- 등호 검색에 강한 해시테이블
- 등호 검색은 물론, 범위 검색에도 강한 만능형 B 트리
- DBMS에서 인덱스를 만들면 검색은 빨라지지만, 갱신 시에 오버헤드가 걸린다는 단점도 있기 때문에 함께 고려