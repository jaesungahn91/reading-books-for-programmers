## 테스트 코드
### 자동화된 테스트-회귀 테스트-안정감
- 자동으로 실행할 수 있는 테스트 코드가 있다면 수정한 코드가 발생시키는 문제를 빨리 찾을 수 있다.
- 테스트 커버리지가 높다고 해서 완벽하게 모든 문제를 없앨 수는 없지만, 적어도 테스트를 통과한 코드는 문제가 없다는 것을 확신할 수 있다.
- 테스트 커버리지는 중요하지만 너무 집착하지 않아도 된다.(70~80% 수준이면 적당)
- 소프트웨어를 수정했을 때 수정한 기능 외에 다른 기능에 영향이 없는지 검증하는 테스트를 회귀 테스트라고 한다.
- 테스트 코드가 검증하는 범위가 넓어질수록 내가 만든 코드가 문제를 일으키지 않는다는 확신이 커지고 코드를 수정할 때 안정감을 느끼게 된다. 코드 변경에 대한 스트레스도 감소한다.

### 테스트 주도 개발과 회귀 테스트
- TDD는 테스트 코드를 먼저 만드는 개발 방식이다. 
- TDD 과정
	- 구현할 대상에 대한 테스트 코드를 먼저 만들고 테스트 코드를 통과시킬 만큼 구현을 진행한다. 테스트를 통과하면 코드를 정리(리팩터링)한다. 그다음 테스트 코드를 작성한다. 
- TDD를 진행할 때 예외적인 상황에서의 테스트를 먼저 작성하고 그다음 정상적인 상황에서의 테스트를 작성하는 게 좋다.
- 정상적인 상황과 예외적인 상황에 대한 테스트 코드를 작성하면 테스트가 다루는 커버리지가 높아진다.
- TDD를 하면 회귀 테스트로 사용할 테스트 케이스가 증가하고 테스트 커버리지도 높아진다.

### 테스트 주도 개발과 설계
- TDD를 선호하는 또 다른 이유는 TDD가 기능을 설계하는 데 도움을 주기 때문이다.
- TDD에서 테스트 코드 작성 과정은 설계와 밀접한 관련이 있다.

### 테스트 주도 개발과 생산성
- 테스트 코드를 작성하면 처음에는 개발 시간이 늘어나는 것처럼 느껴지지만 시간이 갈수록 반복되는 테스트 시간을 줄여줘서 오히려 개발 시간이 줄어든다.
- TDD는 리팩터링을 포함하기 때문에 미래의 디버깅 시간과 코딩 시간을 줄여준다.
- TDD를 진행하면 전체가 아닌 일부 코드만 검증할 수 있다.

## 테스트 가능성
- 테스트를 먼저 만들던, 나중에 만들던 중요한 것은 테스트 가능성을 높이는 데 있다.
- 코드를 만들 때 테스트 가능성을 염두에 두면 개발 생산성과 설계 품질을 높일 수 있다.
- 테스트 가능성이 높아지면 외부 환경에 대한 의존이 줄어들어 전체가 아닌 일부만 빠르게 테스트 할 수 있게 된다.
- 테스트 가능성을 높이려고 시도하다 보면 역할에 따라 기능이 별도 타입으로 분리되면서 응집도가 올라가고 전반적인 설계 품질이 좋아진다.
- 코드 응집도가 올라가면서 향후에 코드 변경하는 비용도 감소할 가능성이 커진다. 코드 변경 비용 감소는 개발 생산성을 높여준다.

## 리팩터링을 위한 테스트 작성하기
- 리팩터링을 할 때는 리팩터링 전과 후의 코드가 동일하게 동작하는지 보장할 수 있어야 한다. 그러기 위해 리팩터링 전에 테스트 코드를 먼저 작성해야 한다.
- 일부만 별도 타입으로 분리한 뒤에 테스트를 만들고 리팩터링 해야한다.
- 코드가 복잡하게 얽혀 있어 일부 코드를 분리하기 힘들 때는 통합 테스트를 작성한다.